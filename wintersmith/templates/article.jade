
extends layout
block meta
  meta(property="og:url" content=locals.url+page.url)
  meta(property="og:type" content="website")
  meta(property="og:title"         content=page.title)
  meta(property="og:description"   content=page.metadata.description)
  meta(property="og:image"         content=page.metadata.image)
block append vars
  - bodyclass = 'article-detail'

block prepend title
  | #{ page.title + ' - '}


include author
  
block beforeContent
  div.article-header
  div.header.socials
          a.icon.home-icon(href='https://apoorvasrinivasan.com')
          a.icon.list-icon(href='/')
          a.icon.reddit-icon( target='_blank' href='https://www.reddit.com/user/apoorvaShrini')
          a.icon.youtube-icon( target='_blank' href='https://www.youtube.com/trippingHigh')
          a.icon.instagram-icon( target='_blank' href='https://www.instagram/theTrippingHigh')
          a.icon.facebook-icon( target='_blank' href='http://facebook.com/theTrippingHigh')
          a.icon.twitter-icon( target='_blank' href='https://twitter.com/theTrippingHigh') 

block content
  h1= page.title
  div.shares(style='  display:flex;width: 210px;float: right;align-items: center;height: 40px;')
    div#fb-root
    div.fb-share-button(data-href=locals.url+page.url
    data-layout="button")
    script(type="IN/Share" data-url=locals.url+page.url)
    
    a.icon.telegram-icon(href='https://telegram.me/share/url?url='+locals.url+page.url onclick='window.open(&apos;https://telegram.me/share/url?url==&apos;+encodeURIComponent(location.href)+&apos;&amp;bodytext=&amp;tags=&amp;text=&apos;+encodeURIComponent(document.title));return false;' target='_blank' rel='nofollow' style='text-decoration:none;' title='Share on Telegram')
      
    
    a(class="icon whatsapp whatsapp-icon" href="" target="_blank")
  p.date= moment.utc(page.date).format('DD. MMMM YYYY')
  
  article.article
    section.content!= typogr(page.html).typogrify()

block prepend footer
  div.articles-footer
    - var articles = env.helpers.getArticles(contents);
    for a in articles
      article.card.small
        a(href=a.url)= a.title
  div.nav
    a(href=contents.index.url) Â« Full blog
block bottom_scripts

  script(src="https://platform.linkedin.com/in.js" type="text/javascript") lang: en_US
  script.
    (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
    fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
    function decorateWhatsAppLink() {
      //set up the url
      var url = 'whatsapp://send?text=';

      //define the message text
      var text = 'Hey check out this awesome blog at'+location.href;

      //encode the text
      var encodedText = encodeURIComponent(text);

      //set the href attribute on the link
      document.querySelector('a.whatsapp').setAttribute('href', url + encodedText);
    }

    //call the decorator function
    decorateWhatsAppLink()
