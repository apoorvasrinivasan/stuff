<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width"><meta property="og:url" content="https://blog.apoorvasrinivasan.com/articles/pug-angular/"><meta property="og:type" content="website"><meta property="og:title" content="Run PUG(jade) with Angular 10+"><meta property="og:image" content="https://blog.apoorvasrinivasan.com/articles/pug-angular/undefined"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://blog.apoorvasrinivasan.com/articles/pug-angular/"><meta property="twitter:title" content="Run PUG(jade) with Angular 10+"><meta property="twitter:image" content="https://blog.apoorvasrinivasan.com/articles/pug-angular/undefined"><meta property="twitter:description"><meta property="og:description"><script data-ad-client="ca-pub-2165636896440969" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" defer></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-71505892-1', 'auto');
ga('send', 'pageview');
</script><title>Run PUG(jade) with Angular 10+ - Apoorva Srinivasan</title><link rel="alternate" href="https://blog.apoorvasrinivasan.com/feed.xml" type="application/rss+xml" title="abstruse"><link rel="stylesheet" href="https://blog.apoorvasrinivasan.com/css/main.css"></head><body class="article-detail"><div class="article-header"><section class="categories"><a class="label" href="/">Home</a><a class="label" href="/category/travel/">travel</a><a class="label" href="/category/tv-show/">tv-show</a><a class="label" href="/category/technical/">technical</a><a class="label" href="/category/life/">life</a><a class="label" href="/category/poem/">poem</a><a class="label" href="/category/social%20media/">social media</a><a class="label" href="/category/romance/">romance</a></section></div><div class="container"><h1>Run PUG(jade) with Angular 10+</h1><div class="shares"><div id="fb-root"></div><div class="fb-share-button" data-href="https://blog.apoorvasrinivasan.com/articles/pug-angular/" data-layout="button"></div><div class="twitter"><a class="twitter-share-button" href="https://blog.apoorvasrinivasan.com/articles/pug-angular/?text= Intersting article on Run PUG(jade) with Angular 10+" via="apoorvashrini" hashtags="traveltips">Tweet </a></div><script type="IN/Share" data-url="https://blog.apoorvasrinivasan.com/articles/pug-angular/"></script><div class="telegram"><a href="https://telegram.me/share/url?url=https://blog.apoorvasrinivasan.com/articles/pug-angular/" onclick="window.open(&amp;apos;https://telegram.me/share/url?url==&amp;apos;+encodeURIComponent(location.href)+&amp;apos;&amp;amp;bodytext=&amp;amp;tags=&amp;amp;text=&amp;apos;+encodeURIComponent(document.title));return false;" target="_blank" rel="nofollow" style="text-decoration:none;" title="Share on Telegram"><img src="https://telegram.org/img/t_logo.png" style="height:24px; width:24px;vertical-align:bottom;"></a></div><div class="what"><a class="whatsapp" href="" target="_blank"><img src="https://whatsappbrand.com/wp-content/themes/whatsapp-brc/images/WhatsApp_Logo_6.png" style="height:32px; ;vertical-align:bottom;"></a></div></div><p class="date">03. June 2021</p><p id="wordCount"></p><p id="readingTime"></p><h3></h3><article class="article"><section class="content"><p>The purpose of this blog is to provide step by step steps to setup pug with angular. This does not contain tutorials about node, npm, or <code>angular</code> itself.
Angular <span class="caps">CLI</span> supports multiple built-in <span class="caps">CSS</span> preprocessor options for component styling like Sass/<span class="caps">SCSS</span>, <span class="caps">LESS</span>, and Stylus. However, when it comes to templates, only two options are available: <span class="caps">HTML</span> and <span class="caps">SVG</span>. This is in spite of many more efficient options such as Pug, Slim, <span class="caps">HAML</span> among others being in<span class="widont">&nbsp;</span>existence.</p>
<h2 id="what-is-pug">What is pug</h2>
<p>For those who don’t know, pug ,formerly known as jade, is an <span class="caps">HTML</span> templating engine that has simple syntax to write clear html code. Additionally, it allows variables and loops for coding block repetition.
Code written in <strong>pug</strong> is 
clean, well indented and easy to read.
it has helpers like loops, computations and<span class="widont">&nbsp;</span>variables. </p>
<p>Some examples include<span class="widont">&nbsp;</span><span class="caps">HTML</span></p>
<pre><code>&lt;div id = &#39;someDivID&#39; class=&#39;class&#39;&gt;
&lt;p class=&#39;class1&#39;&gt;some text&lt;/p&gt;
&lt;p class=&#39;class2&#39;&gt;some text&lt;/p&gt;
&lt;p class=&#39;class3&#39;&gt;some text&lt;/p&gt;
&lt;/div&gt;</code></pre><p><span class="caps">JADE</span> /<span class="caps">PUG</span></p>
<pre><code>div#someDivID.class
    - var ii =[1,2,3]
    each i in ii
      p(class=&quot;class&quot;+i) some text</code></pre><h2 id="installing">Installing</h2>
<h3 id="firstly-we-need-to-install-pug-and-cli">Firstly, we need to install <a href="https://www.npmjs.com/package/pug">pug</a> and<span class="widont">&nbsp;</span>cli</h3>
<pre><code>npm install pug pug-cli pug-loader -g</code></pre><h3 id="2-add-a-rule-file">2. add a rule<span class="widont">&nbsp;</span>file</h3>
<p>create a file in the root directory and name it <strong>pug-rule-insert.js</strong></p>
<pre><code>const fs = require(&#39;fs&#39;);
const commonCliConfig = &#39;node_modules/@angular-devkit/build-angular/src/webpack/configs/common.js&#39;;
const pug_rule = `\n\t\t\t\t\t\t\t\t{ test: /.(pug|jade)$/, loader: &#39;apply-loader!pug-loader?self&#39; },`;
fs.readFile(commonCliConfig, (err, data) =&gt; {
  if (err) { throw err; }
const configText = data.toString();
  if (configText.indexOf(pug_rule) &gt; -1) { return; }
const position = configText.indexOf(&#39;rules: [&#39;) + 8;
  const output = [configText.slice(0, position), pug_rule, configText.slice(position)].join(&#39;&#39;);
  let file = fs.openSync(commonCliConfig, &#39;r+&#39;);
  fs.writeFile(file, output, () =&gt; {});
  fs.close(file, () =&gt; {});
});</code></pre><p>Angular 6-</p>
<p><code>const commonCliConfig = &#39;node_modules/@angular/cli/models/webpack-configs/common.js&#39;;</code></p>
<p>Angular 6+ </p>
<p><code>const commonCliConfig = &#39;node_modules/@angular-devkit/build-angular/src/angular-cli-files/models/webpack-configs/common.js&#39;;</code></p>
<p>If this throws error, find out where common.js file is and change the path<span class="widont">&nbsp;</span>accordingly.</p>
<h3 id="add-rules-to-package-json">Add rules to<span class="widont">&nbsp;</span>package.json</h3>
<p>in the scripts section of package.json, add the following<span class="widont">&nbsp;</span>scripts.</p>
<pre><code>&quot;start&quot;: &quot;pug -w src &amp; ng serve&quot;,
&quot;afterInstall&quot;: &quot;node pug-rule-insert.js&quot;,</code></pre><p><code>pug -w src</code> helps us to watch over the src files and create corrosponding <span class="caps">HTML</span> files as we edit. 
<code>ng serve</code> serves your project in the browser.
Since both these scripts are listening scripts, we need tthem to run concurrently (simultaneously). which is why we use the <code>&amp;</code>.</p>
<p>Just in case, remove any  old package file 
<code>rm package.json-lock</code>
to execute the pug script<span class="widont">&nbsp;</span>run</p>
<pre><code>npm run afterInstall</code></pre><p>Thats it. you are ready to code your files in<span class="widont">&nbsp;</span>pug!!</p>
<h3 id="to-write-the-files">To write the<span class="widont">&nbsp;</span>files</h3>
<p>in the folder of your component, create .pug files and save it.
Note: you will have to give the path to your html file in the component<span class="widont">&nbsp;</span>typescript</p>
<pre><code>@Component({
   selector: &#39;my-root&#39;,
   templateUrl: &#39;./app.component.html&#39;,
   styleUrls: [&#39;./app.component.scss&#39;]
})
export class AppComponent {}</code></pre><p>You will notice that the pug cli has created the corrosponding html as soon as you save your pug file, thanks to the watch<span class="widont">&nbsp;</span>command.</p>
<p>you are ready to start coding in pug. Since the <code>.html</code> files are autogenerated, you might want to add those in the <code>.gitignore</code> to avoid someone changing<span class="widont">&nbsp;</span>it.</p>
<p>to serve, now<span class="widont">&nbsp;</span>type</p>
<pre><code>ng run start</code></pre></section></article><div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">Comment Formis loading comments...</a></div></div><footer><div class="container"><div class="articles-footer"><div>More in technical <article class="card small"><a href="/articles/pug-angular/">Run PUG(jade) with Angular 10+</a></article><article class="card small"><a href="/articles/todo/">Simple Todo in plain Javascript</a></article><article class="card small"><a href="/articles/javascript/">Introduction to Javascript</a></article><article class="card small"><a href="/articles/markdown-syntax/">Markdown syntax</a></article><article class="card small"><a href="/articles/uml/">Pre exam outburst</a></article></div></div><div class="nav"><a href="/">« Full blog</a></div><section class="categories"><a href="/category/travel/">travel</a><small class="badge">(2 )</small> | <a href="/category/tv-show/">tv-show</a><small class="badge">(1 )</small> | <a href="/category/technical/">technical</a><small class="badge">(5 )</small> | <a href="/category/life/">life</a><small class="badge">(4 )</small> | <a href="/category/poem/">poem</a><small class="badge">(4 )</small> | <a href="/category/social%20media/">social media</a><small class="badge">(1 )</small> | <a href="/category/romance/">romance</a><small class="badge">(1 )</small> </section><section class="copy"><p>&copy; 2021 Apoorva </p></section></div></footer><script type="text/javascript" id="hcb">/*<!--*/ if(!window.hcb_user){hcb_user={};} (function(){var s=document.createElement("script"), l=hcb_user.PAGE || (""+window.location).replace(/'/g,"%27"), h="https://www.htmlcommentbox.com";s.setAttribute("type","text/javascript");s.setAttribute("src", h+"/jread?page="+encodeURIComponent(l).replace("+","%2B")+"&mod=%241%24wq1rdBcg%24KeIzb8oHAIM9WpoQDxz2e1"+"&opts=16862&num=10&ts=1616207476859");if (typeof s!="undefined") document.getElementsByTagName("head")[0].appendChild(s);})(); /*-->*/ 

</script><script src="https://platform.linkedin.com/in.js" type="text/javascript"> </script><script>(function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) return;
js = d.createElement(s); js.id = id;
js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
function decorateWhatsAppLink() {
  //set up the url
  var url = 'whatsapp://send?text=';

  //define the message text
  var text = 'Hey check out this awesome blog at'+location.href;

  //encode the text
  var encodedText = encodeURIComponent(text);

  //set the href attribute on the link
  document.querySelector('a.whatsapp').setAttribute('href', url + encodedText);
}

//call the decorator function
decorateWhatsAppLink()

window.twttr = (function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0],
  t = window.twttr || {};
if (d.getElementById(id)) return t;
js = d.createElement(s);
js.id = id;
js.src = "https://platform.twitter.com/widgets.js";
fjs.parentNode.insertBefore(js, fjs);

t._e = [];
t.ready = function(f) {
  t._e.push(f);
};

return t;
}(document, "script", "twitter-wjs"));

function countWords(str) {
     str = str.replace(/(^\s*)|(\s*$)/gi,"");
     str = str.replace(/[ ]{2,}/gi," ");
     str = str.replace(/\n /,"\n");
     return str.split(' ').length;
}

  words = document.getElementsByTagName('article')[0].textContent;
  cw = countWords(words);
  n = cw/220;
   document.getElementById('wordCount').innerHTML = cw + ' words'
  sec =  Math.round((n - Math.floor(n)) * 60);
  x =  'Reading time : '+Math.floor(n) + ' Min and ' + sec +' seconds';
  document.getElementById('readingTime').innerHTML = x;  
</script><style>.home-desc, small.admin-link {
  opacity: 0;
}
.categories {width:70%;margin:0 20px;}
.categories a.label{background-color:transparent;}</style></body></html>